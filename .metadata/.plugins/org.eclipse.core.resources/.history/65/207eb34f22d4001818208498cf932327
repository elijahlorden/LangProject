package assembler;

import java.util.ArrayList;

import main.Util;

public class Assembler {
	private ArrayList<String> rawLines;

	public Assembler(ArrayList<String> rawLines) {
		this.rawLines = rawLines;
	}

	public void lex() {
		byte section = 0;
		for (int i=0; i<rawLines.size(); i++) {
			String line = rawLines.get(i);
			if (line.length() < 1 || line.charAt(0) == '#') continue;
			removeComments(line);
			if (line.length() < 1 || line.charAt(0) == '#') continue;
			switch(line) {
				case ".data":
					section = 1;
					break;
				case ".text":
					section = 2;
					break;
				default:
					switch(section) {
					case 0:
						Util.error("Assembler", "No section declared", i+1);
						break;
					case 1:
						break;
					case 2:
						break;
					default:
						Util.error("Assembler", "Unknown error", i+1);
						break;
					}
					break;
			}
		}
	}
	
	public void removeComments(String s) {
		if (s.indexOf('$') == -1) return;
		int index = s.indexOf('#');
		System.out.println(index);
	}
	
	public void lexDataLine(String line, int ln) {
		
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
}
